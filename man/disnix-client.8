.TH "disnix-client" "8" "June 2009" "Disnix" "System administration tools"
.SH NAME
disnix\-client \- Provides access to the disnix-service through the D-Bus interface
.SH SYNOPSIS
.B disnix\-client
{operation}
[
.B options
]
derivations
.PP
.SH DESCRIPTION
The command \fBdisnix\-client\fR provides access to a \fBdisnix\-service\fR instance running
on the same machine by connecting to the D-Bus system or session bus. 
.PP
In most cases this tool is only needed for debugging purposes, since it only uses the D-Bus
protocol and cannot connect to a remote machine. A more useful client for use in production
environments is: \fBdisnix\-ssh\-client\fR.

.SH OPERATIONS
.TP
\fB\-\-import\fR
Imports a given closure into the Nix store of the target machine. Optionally, it transfers the closure from this machine
to the target machine.
.TP
\fB\-\-export\fR
Exports the closure of a given Nix store path of the target machine into a file, and optionally downloads it.
.TP
\fB\-\-print\-invalid\fR
Prints all the paths that are not valid in the Nix store of the target machine.
.TP
\fB\-r\fR, \fB\-\-realise\fR
Realises the given store derivation on the target machine.
.TP
\fB\-\-set\fR
Creates a Disnix profile only containing the given derivation on the target machine.
.TP
\fB\-q\fR, \fB\-\-query\-installed\fR
Queries all the installed services on the given target machine.
.TP
\fB\-\-query\-requisites\fR
Queries all the requisites (intra-dependencies) of the given services on the target machine.
.TP
\fB\-\-collect\-garbage\fR
Collects garbage on the given target machine.
.TP
\fB\-\-activate\fR
Activates the given service on the target machine.
.TP
\fB\-\-deactivate\fR
Deactivates the given service on the target machine.
.TP
\fB\-\-lock\fR
Acquires a lock on a Disnix profile of the target machine.
.TP
\fB\-\-unlock\fR
Release the lock on a Disnix profile of the target machine.

.SH OPTIONS
.TP
\fB\-t\fR, \fB\-\-target\fR
This option does nothing. It is only defined to match the interfaces of other Disnix clients.
.TP
\fB\-\-session\-bus\fR
Connects to the session bus instead of the system bus. This is useful for testing/debugging purposes.

.SH Import operation
.TP
\fB\-\-localfile\fR
Specifies that the given closure is stored locally, so that it will be transfered to the target machine first.
.TP
\fB\-\-remotefile\fR
Specifies that the given closure is stored remotely, so that it does not have to be transfered to the target machine.

.SH Export operation
.TP
\fB\-\-localfile\fR
Specifies that the exported closure should be stored locally. This option does not download the closure.
.TP
\fB\-\-remotefile\fR
Specifies that the exported closure should be stored remotely. This option downloads the closure from the target machine.

.SH Set operation/Query installed operation
.TP
\fB\-p\fR, \fB\-\-profile\fR
Specifies the name of the profile that should be used. Defaults to: default.

.SH Collect garbage operation
.TP
\fB\-d\fR, \fB\-\-delete\-old\fR
Specifies that also the older generations of the profiles have to be deleted.

.SH Activation/Deactivation operation
.TP
\fB\-\-type\fR
Specifies the activation module that should be used, such as \fBecho\fR or \fBprocess\fR.
.TP
\fB\-\-arguments\fR
Specifies the arguments passed to the activation module, which is a string with key=value pairs.

.SH Lock/Unlock operation
.TP
\fB\-p\fR, \fB\-\-profile\fR
Specifies the name of the profile that should be used. Defaults to: default.

.SH SEE ALSO
.BR disnix-ssh-client (8),
.BR disnix-service (8),
.BR disnix-env (8),
.SH AUTHOR
Sander van der Burg <s.vanderburg@tudelft.nl>
