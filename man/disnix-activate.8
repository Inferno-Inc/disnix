.TH "disnix-activate" "8" "June 2009" "Disnix" "System administration tools"
.SH NAME
disnix\-activate \- Activate a configuration described in a manifest
.SH SYNOPSIS
.B disnix\-activate
[
.B options
]
manifest
.PP
.SH DESCRIPTION
The command \fBdisnix\-activate\fR will activate all the services in the given manifest
file on the target machines in the right order, by traversing the inter-dependency graph
of the services.
.PP
If there is already a configuration deployed, then this command will perform an upgrade. 
First it deactivates all obsolete services which are not present in the new configuration,
finally it will activate all the new services in the new configuration. During this
phase it takes inter-dependencies into account, so that no service will fail due to
a broken inter-dependency closure.
.PP
In case of a failure, a rollback is performed and all the newly activated services
are deactivated and all deactivated services are activated again.
.PP
Most users don't need to use this command directly. The \fBdisnix\-env\fR command will
automatically invoke this command to activate the new configuration.
.SH OPTIONS
.TP
\fB\-\-interface\fR
Path to executable that communicates with a Disnix interface. Defaults to \fBdisnix-client\fR
.TP
\fB\-p\fR, \fB\-\-profile\fR
Name of the profile in which the services are registered. Defaults to: default
.TP
\fB\-o\fR, \fB\-\-old\-manifest\fR
Path to the manifest of the previous configuration. By default this tool will use the manifest
stored in the disnix-coordinator profile instead of the specified one, which is usually sufficient
in most cases.
.TP
\fB\-\-coordinator\-profile\-path\fR
Nix profile path where the manifest should be stored, so that Disnix knows the current configuration
of a distributed system. By default it is stored in the profile directory of the user.
Most users do not want to use this option directly, but it is used by e.g. the virtualization
extension to store virtual machine profile in a separate directory.
.TP
\fB\-h\fR, \fB\-\-help\fR
Shows the usage of this command to the user
.SH ENVIRONMENT VARIABLES
.TP
\fBDISNIX_CLIENT_INTERFACE\fR
Sets the client interface (which defaults to \fBdisnix-client\fR)
.SH SEE ALSO
.BR disnix-env (8)
.SH AUTHOR
Sander van der Burg <s.vanderburg@tudelft.nl>
